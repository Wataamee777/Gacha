<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>🎛 サーバー一覧 | Gacha Dashboard</title>
  <style>
    body { font-family: sans-serif; background: #f8f8f8; padding: 20px; }
    h1 { margin-bottom: 16px; }
    .guild {
      display: flex; align-items: center; margin-bottom: 12px; padding: 8px;
      background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    img { width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; }
    a { margin-left: auto; background: #4e6ef2; color: #fff; text-decoration: none; padding: 6px 10px; border-radius: 5px; }
  </style>
</head>
<body>
  <h1>管理できるサーバー一覧</h1>

  <% if (guilds.length === 0) { %>
    <p>管理権限を持つサーバーがありません。</p>
  <% } else { %>
    <% guilds.forEach(g => { %>
      <div class="guild">
        <% if (g.icon) { %>
          <img src="https://cdn.discordapp.com/icons/<%= g.id %>/<%= g.icon %>.png" alt="">
        <% } else { %>
          <img src="https://cdn.discordapp.com/embed/avatars/0.png" alt="">
        <% } %>
        <span><%= g.name %></span>
        <a href="/dashboard/<%= g.id %>">管理ページへ</a>
      </div>
    <% }) %>
  <% } %>
</body>
</html>
